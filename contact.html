<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Contact | Drexel Firewood Rental</title>
		<link rel="stylesheet" href="styles/style.css">
		<link rel="stylesheet" href="styles/contact.css">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@300;400;700&display=swap" rel="stylesheet">
		<script type="text/javascript">
			function validateName() {
				document.getElementById("name-error").innerText = "";
				const nameVal = document.contactForm.name.value;
				const nameParts = nameVal.split(' ');
				if (nameParts.length === 2 || nameParts.length === 3) {
					return true;
				}
				document.getElementById("name-error").innerText = "Name is not valid"
				return false;
			}

			function validateEmail() {
				document.getElementById("email-error").innerText = "";
				const emailVal = document.contactForm.email.value;
				const emailParts = emailVal.split("@");
				if (emailParts.length !== 2) {
					document.getElementById("email-error").innerText = "E-Mail is not in valid format";
					return false;
				}
				const domainParts = emailParts[1].split('.');
				if(domainParts.length !== 2) {
					document.getElementById("email-error").innerText = "E-Mail is not in valid format";
					return false;
				}
				return true;
			}

			function sendData(event) {
				event.preventDefault();
				const nameValue = document.contactForm.name.value;
				const emailValue = document.contactForm.email.value;
				const textValue = document.contactForm.message.value;

				if (!validateName() || !validateEmail()) {
					return false;
				}
				const url = `mailto:${emailValue}?subject=Message from${nameValue}&body=${textValue}`;
				window.location.href = url;
			}
		</script>
	</head>
	<body>
		<header>
			<img src="assets/logo.png" alt="Logo">
			<h1 id="header-caption">Drexel Firewood Rental</h1>
		</header>
		<nav>
			<a class="menu-link" href="index.html">Home</a>
			<a class="menu-link" href="products.html">Products</a>
			<a class="menu-link" href="about.html">About</a>
			<a class="menu-link" href="contact.html">Contact</a>
		</nav>
		<main>
			<h1>Contact us</h1>
			<form id="contact-form" name="contactForm">
				<span id="name-error" class="error-msg"></span>
				<div class="input-field">
					<label for="name">Name</label>
					<input type="text" id="name" name="name" placeholder="John Doe" onfocusout="validateName();">
				</div>
				<span id="email-error" class="error-msg"></span>
				<div class="input-field">
					<label for="email">E-Mail</label>
					<input type="email" id="email" name="email" placeholder="john@doe.com" onfocusout="validateEmail();">
				</div>
				<div class="input-field">
					<label for="message">Message</label>
					<textarea name="message" id="message" placeholder="Your message here"></textarea>
				</div>
				<input type="submit" id="contact-submit" name="send" value="Send">
			</form>
		</main>
		<footer>
			<span>&copy;2022 - Drexel Firewood Rental</span>
		</footer>
		<div class="honesty-statement">
			<span>I certify that: </span>
			<ul>
				<li>My work will be entirely my own work.</li>
				<li>I will not quote the words of any other person from a printed source or a website without indicating what has been quoted and providing an appropriate citation.</li>
				<li>I will not submit my work in this course to satisfy the requirements of any other course.</li>
			</ul>
			<p>Full Name: <em>Daniel Wennemar</em></p>
			<p>Date: 10/25/2022</p>
		</div>
		<a href="https://validator.w3.org/nu/?doc=https%3A%2F%2Fwww.cs.drexel.edu%2F%7Edw967%2Fcontact.html">W3C Validator checked!</a>
		<a href="https://jigsaw.w3.org/css-validator/validator?uri=https%3A%2F%2Fwww.cs.drexel.edu%2F%7Edw967%2Fcontact.html&profile=css3svg&usermedium=all&warning=1&vextwarning=&lang=en">
			<img style="border:0;width:88px;height:31px"
					 src="https://jigsaw.w3.org/css-validator/images/vcss-blue"
					 alt="Valid CSS!" />
		</a>
	<script type="text/javascript">
		document.contactForm.addEventListener("submit", sendData, true);
	</script>
	</body>
</html>
